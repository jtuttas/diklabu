<!DOCTYPE html>
<html lang="en">
    <head>   
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Diklabu</title>
        <!-- Bootstrap Core CSS -->
        <link rel="stylesheet" href="../css/bootstrap.min.css" type="text/css"/>
        <!-- Custom Fonts -->
        <link rel="stylesheet" href="../css/datepicker.css"/>

        <!-- Plugin CSS -->

        <!-- Custom CSS -->
        <link rel="stylesheet" href="../css/buch.css" type="text/css"/>
        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->


        <link href="../css/toastr.css" rel="stylesheet"/>

    </head>
    <body id="page-top">
        <input type="hidden" name="template" id="template"/>
        <div class="container-fluid">
            <div class="row">                
                <div class="jumbotron jhead">
                    <div class="row">
                        <div class="col-md-offset-11">
                            <a href="https://github.com/jtuttas/diklabu/issues" target="bugs" id="version">&nbsp;</a>
                        </div>
                    </div>
                    <h1>Diklabu@MMBbS</h1>
                    <div class="row">
                        <div class="col-md-1">
                            <div  id="kuerzelContainer">
                                <label for="lehrer">Kürzel</label>
                                <select class="form-control" id="lehrer">
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2" >
                            <div id="kennwortContainer">
                                <label for="kennwort" >
                                    Kennwort
                                </label>
                                <input type="password" class="form-control mypassword" id="kennwort">
                            </div>
                        </div>
                        <div class="col-md-1">


                            <br>
                            <button id="login" type="button" class="btn  btn-success mybutton">Login</button>                                                    

                        </div>

                        <div class="col-md-1">
                        </div>
                        <div class="col-md-3">
                            <label for="klassen">Klassen</label>
                            <select class="form-control" id="klassen">
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label for="datepicker">Zeitraum</label>
                            <div class="date-input input-daterange input-group" id="datepicker">
                                <input type="text" class="input-sm form-control" name="start" id="startDate" >
                                <span class="input-group-addon">bis</span>
                                <input type="text" class="input-sm form-control" name="end" id="endDate">
                            </div>
                        </div>
                        <div class="col-md-1">
                            <br>
                            <div id="dokumentationContainer" style="display: none;">
                                <form action="/Diklabu/DokuServlet" target="_blank" method="POST" role="form" class="form-horizontal">
                                    <input id="dokumentationType" type="hidden" name="cmd" value="Verlauf">
                                    <input type="hidden" name="auth_token" id="auth_token">
                                    <input type="hidden" name="service_key" id="service_key">
                                    <input type="hidden" name="idklasse" id="idklasse">
                                    <input type="hidden" name="from" id="from">
                                    <input type="hidden" name="to" id="to">

                                    <div class="row">
                                        <button id="dokumentation" type="submit"  class="btn  btn-success mybutton disabled">Dokumentation</button>
                                        <input type="radio" name="type" value="pdf" checked> pdf <input type="radio" name="type" value="csv"> csv
                                    </div>
                                </form>
                            </div>
                            <div id="printContainer" style="display: none;">
                                <button id="print"  class="btn  btn-success mybutton">Ausdrucken</button>                                
                                <br>
                            </div>
                        </div>
                    </div>
                </div>

                <ul class="nav nav-tabs" id="navTabs">
                    <li class="active"><a data-toggle="tab" href="#tabVerlauf">Verlauf</a></li>
                    <li><a data-toggle="tab" href="#tabAnwesenheit">Anwesenheit</a></li>
                    <li><a data-toggle="tab" href="#tabFehlzeiten">Fehlzeiten</a></li>
                    <li><a data-toggle="tab" href="#tabNoten">Noten</a></li>
                    <li><a data-toggle="tab" href="#tabBemerkungen">Klasse</a></li>
                    <li><a data-toggle="tab" href="#tabStundenplan">Stundenplan</a></li>
                    <li><a data-toggle="tab" href="#tabVertretungsplan">Vertretungsplan</a></li>
                    <li><a data-toggle="tab" href="#tabChat">Chat</a></li>
                </ul>
                <br>
                <div class="tab-content">
                    <div id="tabVerlauf" class="tab-pane fade in active" >
                        <div class="col-md-12">
                            <div class="row" >
                                <div  id="inputVerlaufContainer" style="display: none;">
                                    <div class="col-md-2">
                                        <div class="form-group">
                                            <label for="eintragDatum">Datum</label>
                                            <div class="input-group date">
                                                <input type="text" class="form-control" id="eintragDatum">
                                                <span class="input-group-addon"><i class="glyphicon glyphicon-th"></i></span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="lernfelder">Lernfeld</label>
                                            <select class="form-control" id="lernfelder">
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label for="stunde">Stunde</label>

                                            <select class="form-control" id="stunde">
                                                <option>01</option>
                                                <option>02</option>
                                                <option>03</option>
                                                <option>04</option>
                                                <option>05</option>
                                                <option>06</option>
                                                <option>07</option>
                                                <option>08</option>
                                                <option>09</option>
                                                <option>10</option>
                                                <option>11</option>
                                                <option>12</option>
                                                <option>13</option>
                                                <option>14</option>
                                                <option>15</option>
                                                <option>16</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-9">
                                        <div class="form-group">
                                            <label for="lernsituationVerlauf" >
                                                Lernsituation
                                            </label>

                                            <input type="text" class="form-control" id="lernsituationVerlauf">

                                        </div>
                                        <div class="form-group">

                                            <label for="inhaltVerlauf">
                                                Inhalt
                                            </label>
                                            <input type="text" class="form-control" id="inhaltVerlauf">
                                        </div>
                                        <div class="form-group">

                                            <label for="bemerkungVerlauf">
                                                Bemerkungen
                                            </label>
                                            <input type="text" class="form-control" id="bemerkungVerlauf">
                                        </div>

                                    </div>
                                    <div class="col-md-1">
                                        <div class="row">
                                            <br></br>
                                            <button id="addVerlauf" type="button" class="btn col-md-12  btn-success">Hinzufügen</button>
                                            <br></br>
                                            <button id="updateVerlauf" type="button" class="btn col-md-12  btn-info disabled">Ändern</button>
                                            <br></br>
                                            <button id="deleteVerlauf" type="button" class="btn  col-md-12 btn-danger disabled">Löschen</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <hr>
                            <table class="table table-striped table-hover" style="display:none;" id="tabelle">
                                <thead>
                                    <tr>
                                        <th width="10%">
                                            Datum
                                        </th>
                                        <th width="5%">
                                            LK
                                        </th>
                                        <th width="5%">
                                            LF
                                        </th>
                                        <th width="5%">
                                            Stunde
                                        </th>
                                        <th width="25%">
                                            Inhalt
                                        </th>
                                        <th>
                                            Bemerkungen
                                        </th>
                                        <th>
                                            Lernsituation
                                        </th>
                                    </tr>
                                </thead>
                                <tbody id="tabelleVerlauf">
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="tabAnwesenheit" class="tab-pane fade">
                        <ul class="nav nav-tabs" id="anwesenheitTabs">
                            <li class="active"><a data-toggle="tab" href="#tabAnwesenheitDetails">Details</a></li>
                            <li><a data-toggle="tab" href="#tabAnwesenheitBilder">Bilder</a></li>
                        </ul>
                        <div class="tab-content">                           
                            <div id="tabAnwesenheitDetails" class="tab-pane fade in active" >
                                <div class="row">
                                    <div class="col-md-2">
                                        <label for="wochentage">Wochentage</label>
                                        <select class="form-control" id="wochentage">
                                            <option>alle</option>
                                            <option>Montag</option>
                                            <option>Dienstag</option>
                                            <option>Mittwoch</option>
                                            <option>Donnerstag</option>
                                            <option>Freitag</option>
                                            <option>Samstag</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label for="block">Block</label>
                                        <select class="form-control" id="block">
                                            <option>alle</option>
                                            <option>rot</option>
                                            <option>gelb</option>
                                            <option>blau</option>

                                        </select>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <table class="table table-bordered" id="tabelleKlasse">
                                        </table>
                                    </div>
                                    <div class="col-md-9 table-responsive">
                                        <table class="table table-bordered" id="tabelleAnwesenheit">
                                        </table>                                
                                    </div>
                                </div>
                            </div>
                            <div id="tabAnwesenheitBilder" class="tab-pane " style="display:  none;">
                                <table class="table">

                                    <tbody id="klassenBilder">
                                    </tbody>
                                </table>
                            </div>
                        </div>

                    </div>
                    <div id="tabFehlzeiten" class="tab-pane fade">
                        <ul class="nav nav-tabs" id="fehlzeitenTab">
                            <li class="active"><a data-toggle="tab" href="#tabUebersicht">Übersicht</a></li>                            
                            <li><a data-toggle="tab" href="#tabMail">Mail</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="tabUebersicht" class="tab-pane fade in active">
                                <table style="display: none;" class="table table-bordered table-striped" id="tabelleFehlzeiten">
                                    <thead>
                                        <tr>
                                            <th rowspan="2" width="25%"><h3>Name</h3></th>
                                    <th colspan="2"><h3>Fehltage</h3></th>
                                    <th colspan="2"><h3>Verspätungen</h3></th>
                                    <th rowspan="2">Eintragsfehler</th>
                                    </tr>
                                    <tr>

                                        <td>gesamt / entschuldigt</td>
                                        <td>Tage</td>
                                        <td>Anzahl (Minuten)</td>
                                        <td>Minuten entschuldigt</td>          
                                    </tr>
                                    </thead>
                                    <tbody id="verspaetungenTabelle">

                                    </tbody>
                                </table>
                            </div>
                            <div id="tabMail" class="tab-pane fade in" style="display:  none;">
                                <div class="row">
                                    <form id="emailForm" method="POST" action="/Diklabu/MailServlet" accept-charset="ISO-8859-1">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="fromMail">Absender:</label>
                                                <input type="text" class="form-control" name="fromMail" id="fromMail">
                                                <input type="hidden" name="klassenName" id="klassenName">
                                                <input type="hidden" name="lehrerId" id="lehrerId">
                                                <input type="hidden" name="auth_token" id="mailauth_token">
                                                <input type="hidden" name="service_key" id="mailservice_key">
                                            </div>                            
                                            <div class="form-group">
                                                <label for="toMail">Adresse:</label>
                                                <input type="text" class="form-control" name="toMail" id="toMail" value="jtuttas@gmx.net">
                                            </div>                            
                                            <div class="form-group">
                                                <label for="subjectMail">Betreff:</label>
                                                <input type="text" class="form-control" id="subjectMail" name="subjectMail" value="MMBbS Fehlzeitenmeldung">
                                            </div>                            
                                            <div class="form-group">
                                                <a id="emailZurueck" href="#" class="btn btn-default" role="button">zurück</a>                                                
                                                <input type="submit" class="btn btn-danger" id="emailAbsenden" value="Absenden">                                                                                                
                                                <a id="emailWeiter" href="#" class="btn btn-default" role="button">weiter</a>                                                
                                            </div>                            

                                        </div>
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label for="emailBody">Nachricht</label>
                                                <textarea class="form-control" rows="25" id="emailBody" name="emailBody">Hier steht der Inhalt</textarea>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div id="tabNoten" class="tab-pane fade">
                        <h1>Noten</h1>
                    </div>
                    <div id="tabBemerkungen" class="tab-pane fade">
                        <ul class="nav nav-tabs" id="klassenTabs">
                            <li class="active"><a data-toggle="tab" href="#tabSchuelerbemerkungen">Schülerbemerkungen</a></li>
                            <li><a data-toggle="tab" href="#tabKlassenbemerkungen">Klassenbemerkung</a></li>
                            <li><a data-toggle="tab" href="#tabBetriebe">Betriebe</a></li>
                            <li><a data-toggle="tab" href="#tabEMailBetriebe">Betriebe anschreiben</a></li>
                        </ul>
                        <div class="tab-content">
                            <div id="tabSchuelerbemerkungen" class="tab-pane fade in active" >
                                <div id="bemerkungContainer" style="display: none;">
                                    <table class="table table-striped table-hover">
                                        <thead>
                                            <tr>
                                                <th width="20%"><h3>Name</h3></th>

                                        <th>Bemerkung</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tabelleBemerkungen">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tabKlassenbemerkungen" class="tab-pane " > 
                                </br>
                                <div class="form-group col-md-offset-1 col-md-10">
                                    <label for="klassenbem">Klassenbemerkungen:</label>
                                    <textarea class="form-control" rows="5" id="klassenbem"></textarea>
                                </div>
                                <button id="updateKlassenBem" type="button" class="btn btn-primary col-md-offset-1">Aktualisieren</button>
                            </div>
                            <div id="tabBetriebe" class="tab-pane " > 
                                </br>
                                <div id="betriebeContainer" style="display: none;">
                                    <table class="table table-striped table-hover ">
                                        <thead>
                                            <tr>
                                                <th width="20%"><h3>Name</h3></th>
                                        <th>Frima</th>
                                        <th>Ansprechpartner</th>
                                        <th>Email</th>
                                        <th>Telefon</th>
                                        <th>Fax</th>
                                        </tr>
                                        </thead>
                                        <tbody id="tabelleBetriebe">

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="tabEMailBetriebe" class="tab-pane " > 
                                </br>
                                <div class="form-group col-md-offset-1 col-md-10">
                                    <label for="emailBetriebBetreff">Betreff:</label>
                                    <input type="text" class="form-control" id="emailBetriebBetreff"></input>                                    
                                    <label for="emailBetrieb">Nachricht:</label>
                                    <textarea class="form-control" rows="5" id="emailBetrieb"></textarea>
                                </div>
                                <button id="abdendenEMailBetrieb" type="button" class="btn btn-primary col-md-offset-1">Absenden</button>                                
                            </div>
                        </div>
                    </div>
                    <div id="tabStundenplan" class="tab-pane fade">
                        <div id="stundenplan" style="display: none;"></div>
                    </div>

                    <div id="tabVertretungsplan" class="tab-pane fade">
                        <div id="vertertungsplan" style="display: none;"></div>
                    </div>
                    <div id="tabChat" class="tab-pane fade">
                        <div id="chatContainer" style="display: none;">
                            <div class="col-md-1"></div>
                            <div class="col-md-9">
                                <input type="text" id="newChatLine" class="form-control">
                            </div>
                            <div class="col-md-1">
                                <button class="btn btn-primary" id="sendChatLine">send</button>
                            </div>
                            <div class="col-md-1"></div>
                            <br>
                            <br>
                            <br>
                            <div class="col-md-offset-1 col-md-10" id="chatLines">
                                &nbsp;
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>





        <!-- Modal Info Dialog-->
        <div id="schuelerinfo" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h2 class="modal-title" id="infoName">Modal Header</h2>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-5">
                                <div class="row">
                                    <img class="col-md-12" id="infoBild" src="../img/anonym.gif" width="150">
                                </div>
                                <form enctype="multipart/form-data" id="bildUploadForm" action="/Diklabu/api/v1/schueler/bild/14279">
                                    <div class="row">
                                        <span class="btn btn-default col-md-12 btn-file" >
                                            Auswählen<input id="fileBild" type="file" name="file">

                                        </span>
                                        <strong class="col-md-12" id="bildWahl">&nbsp;</strong>

                                    </div>
                                    <div class="row">
                                        <button id="uploadBildButton" type="submit" class="col-md-12 btn btn-primary">Upload</button>
                                    </div>
                                </form>

                            </div>
                            <div class="col-md-7">
                                <strong id="infoGeb"></strong>
                                <h3>Ausbilder</h3>
                                <p id="infoAusbilderName"></p>
                                <a id="infoAusbilderMail" href="mailto:"></a>
                                <p id="infoAusbilderTel"></p>
                                <p id="infoAusbilderFax"></p>
                                <h3>Betrieb</h3>
                                <p id="infoBetriebName"></p>                  
                                <p id="infoBetriebStrasse"></p>
                                <p id="infoBetriebOrt"></p>
                                <h3>Klassen/Kurse</h3>
                                <ul id="infoKlassen">
                                </ul>
                            </div>
                        </div>   
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Info Dialog-->
        <div id="mailSchueler" class="modal fade" role="dialog">
            <div class="modal-dialog">

                <!-- Modal content-->
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h2 class="modal-title" id="mailName">Modal Header</h2>
                        <strong  id="mailSAdr">EMail</strong>
                        
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="form-group col-md-offset-1 col-md-10">
                                <label for="emailSchuelerBetreff">Betreff:</label>
                                <input type="text" class="form-control" id="emailSchuelerBetreff"></input>                                    
                                <label for="emailSchuelerInhalt">Nachricht:</label>
                                <textarea class="form-control" rows="5" id="emailSchuelerInhalt"></textarea>
                            </div>
                            <button id="abdendenEMailSchueler" type="button" class="btn btn-primary col-md-offset-1">Absenden</button>                                
                        </div>   
                    </div>
                </div>
            </div>
        </div>

        <!-- jQuery -->
        <script src="../js/jquery.js"></script>
        <!-- Bootstrap Core JavaScript -->
        <script src="../js/bootstrap.min.js"></script>
        <!-- Plugin JavaScript -->
        <script src="../js/jquery.easing.min.js"></script>
        <script src="../js/jquery.fittext.js"></script>
        <script src="../js/wow.min.js"></script>
        <!-- Custom Theme JavaScript -->
        <script src="../js/creative.js"></script>
        <script src="../js/bootstrap-datepicker.js"></script>
        <script src="../js/toastr.min.js"></script>
        <script type="text/javascript">
            $('.date-input').datepicker({
                format: "yyyy-mm-dd",
                language: "de",
                daysOfWeekDisabled: "5,6",
                calendarWeeks: true,
                autoclose: true,
                todayHighlight: true
            });
            $('#eintragDatum').datepicker({
                format: "yyyy-mm-dd",
                todayBtn: "linked",
                language: "de",
                daysOfWeekDisabled: "5,6",
                calendarWeeks: true,
                autoclose: true,
                todayHighlight: true
            });
        </script>
        <!-- bootbox code -->
        <script src="../js/bootbox.min.js"></script>

        <script src="../js/config.js"></script>
        <script>
            $("#version").text(VERSION);
        </script>
        <script src="../js/diklabu-chat.js"></script>
        <script src="../js/diklabu-startup.js"></script>
        <script src="../js/diklabu-verlauf.js"></script>
        <script src="../js/printthis/printThis.js"></script>
    </body>
</html>